<head>

    </head>
    
    <body>
        <p>Enter # of Boxes between 1-100</p>
        <p> Memorize the pattern of the colour of the boxes and then click it in that order</p>
        <p id='id1'></p>
        <p id='id2'></p>
        <input type="text" id='figure'>
        <button id='IDenter'>Enter </button>
        <br>
        <br>
        <script>
            document.getElementById('IDenter').onclick = onClickFunc;
            let arrButton = [];
            function button(color, width, height, top, left, order) {
                this.order;
                this.create_id = function (i) {
                    let btn = document.createElement('button');
                    btn.setAttribute('id', 'Button' + i);
                    document.body.appendChild(btn);
                    btn.style.backgroundColor = ranColor();
                    btn.style.width = this.width;
                    btn.height = this.height;
                    btn.style.position = 'initial';
                    btn.style.top = this.top;
                    btn.style.left = this.left;
                    btn.style.width = '150px';
                    btn.style.height = '55px';
                }
            }
    
            function onClickFunc() {
                let firstVal = document.getElementById('figure').value;
                val = parseInt(firstVal);
                makeBox(val);
    
    
            }
            function makeBox(number) {
                if (number > 0 && number <= 100) {
                    let myleft = 25;
                    let mytop = 100;
                    let counter = 0;
                    for (i = 0; i < val; i++) {
                        buts = new button(ranColor(), "150px", '275px', mytop + 'px', (myleft + i * 100) + 'px', i);
                        buts.create_id(i);
                        arrButton.push('Button' + i);
                        setTimeout(moveButton, 2000);
                        let clickButton = document.getElementById('Button' + i);
                        let buttonID = 'Button' + i
                        clickButton.onclick = function (checkArray) {
                            if (buttonID == arrButton[counter]) {
                                counter += 1;
                                document.getElementById('id2').innerHTML = 'There are ' + (number - counter) + ' buttons remaining.';
                                // alert('There are ' + (number - counter) + ' buttons remaining.');
                                if (counter >= number) {
                                    alert('You win. Refresh the page to restart.');
                                } else {
    
                                }
                            }
                            else {
                                document.getElementById('id1').innerHTML = 'Wrong order!';
                            }
                        }
    
                    }
    
                } else {
                    alert('Please enter a number from 0 to 100 Only ! ')
                }
            }
    
            function ranColor() {
            let letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }
    
            function moveButton() {
                for (j = 0; j < arrButton.length; j++) {
                    document.getElementById('Button' + j).style.position = 'absolute';
                    document.getElementById('Button' + j).style.top = Math.random() * (window.innerHeight - 150);
                    document.getElementById('Button' + j).style.left = Math.random() * (window.innerWidth - 150);
                }
            }
            console.log(arrButton)
    
    
        </script>
    
    </body>
    
    </html>